<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>桥接配置</title>
    <script>
        function formatMacAddress(input) {
            let value = input.value.replace(/[^0-9A-Fa-f]/g, '').toUpperCase();
            let formatted = '';
            for (let i = 0; i < value.length; i++) {
                if (i > 0 && i % 2 === 0) {
                    formatted += ':'
                }
                formatted += value[i]
            }
            input.value = formatted.slice(0, 17);
        }
        function validateForm() {
            const macAddressInput = document.getElementById('ap_mac');
            const macAddress = macAddressInput.value;
            const macRegex = /^([0-9A-Fa-f]{2}:){5}[0-9A-Fa-f]{2}$/;
            if (!macRegex.test(macAddress)) {
                alert('请输入有效的 MAC 地址，格式为 XX:XX:XX:XX:XX:XX');
                return false;
            }
            const macWithoutColons = macAddress.replace(/:/g, '');
            macAddressInput.value = macWithoutColons;
            return true;
        }
    </script>
</head>

<body>
    <h3>桥接配置</h3>
    <form action="/" method="post" onsubmit="return validateForm();">
        <label for="sta_name">STA名称:</label><br>
        <input type="text" id="sta_name" name="sta_name" required><br><br>
        <label for="sta_pass">STA密码:</label><br>
        <input type="password" id="sta_pass" name="sta_pass" required minlength="8" maxlength="32"><br><br>
        <label for="ap_name">AP名称:</label><br>
        <input type="text" id="ap_name" name="ap_name" value="SuMatrixMed" required><br><br>
        <label for="ap_pass">AP密码:</label><br>
        <input type="password" id="ap_pass" name="ap_pass" value="Matrix502" required minlength="8" maxlength="32"><br><br>
        <label for="ap_mac">AP Mac地址:</label><br>
        <input type="text" id="ap_mac" name="ap_mac" value="08:aa:89:7d:c1:96" required oninput="formatMacAddress(this)"><br><br>
        <input type="submit" value="确定" style="width: 80px; height: 30px;">
    </form>
</body>

</html>